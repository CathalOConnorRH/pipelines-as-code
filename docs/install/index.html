<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Pipelines as Code Installation #    Overview  Pipelines as Code - Installation # Pipelines-as-Code support different installation method to Git provider platforms (i.e: GitHub, Bitbucket etc..) The preferred method to use Pipelines-as-Code is configured with a GitHub Application. Install Pipelines as Code infrastructure # Pipelines-as-Code support different installation method to Git provider platforms (i.e: GitHub, Bitbucket etc..) The preferred method to use Pipelines-as-Code is configured with a GitHub Application."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Installation"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="/docs/install/"><title>Installation | Pipelines as Code</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.10540941842b4e5e940226bfba9ecf90e4aacde5b742c91761bc696f0eed31a7.js></script>
<link rel=alternate type=application/rss+xml href=/docs/install/index.xml title="Pipelines as Code"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/pipelines-logo.svg alt=Logo><span>Pipelines as Code</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/install/ class=active>Installation</a><ul><li><a href=/docs/install/overview/>Overview</a></li><li><a href=/docs/install/installation/>Infrastructure install</a></li><li><a href=/docs/install/settings/>Settings</a></li><li><a href=/docs/install/github_apps/>Github Apps</a></li><li><a href=/docs/install/github_webhook/>Github Webhook</a></li><li><a href=/docs/install/gitlab/>Gitlab</a></li><li><a href=/docs/install/bitbucket_cloud/>Bitbucket Cloud</a></li><li><a href=/docs/install/bitbucket_server/>Bitbucket Server</a></li><li><a href=/docs/install/kubernetes/>Kubernetes</a></li></ul></li><li><a href=/docs/guide/>Usage Guide</a><ul><li><a href=/docs/guide/repositorycrd/>Repository CRD</a></li><li><a href=/docs/guide/resolver/>Resolver</a></li><li><a href=/docs/guide/autoringprs/>Authoring PipelineRun</a></li><li><a href=/docs/guide/running/>Running the PipelineRun</a></li><li><a href=/docs/guide/statuses/>PipelineRun status</a></li><li><a href=/docs/guide/privaterepo/>Private Repositories</a></li><li><a href=/docs/guide/cleanups/>PipelineRuns Cleanup</a></li><li><a href=/docs/guide/cli/>CLI tkn-pac</a></li></ul></li></ul><ul><li><a href=https://github.com/openshift-pipelines/pipelines-as-code target=_blank rel=noopener>Github Pipelines as Code</a></li><li><a href=https://tekton.dev/docs/ target=_blank rel=noopener>TektonCD Documentation</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Installation</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1 id=pipelines-as-code-installation>Pipelines as Code Installation
<a class=anchor href=#pipelines-as-code-installation>#</a></h1><dl><dt><a href=/docs/install/overview/>Overview</a></dt><dd class=markdown-inner>Pipelines as Code - Installation # Pipelines-as-Code support different installation method to Git provider platforms (i.e: GitHub, Bitbucket etc..)
The preferred method to use Pipelines-as-Code is configured with a GitHub Application.
Install Pipelines as Code infrastructure # Pipelines-as-Code support different installation method to Git provider platforms (i.e: GitHub, Bitbucket etc..) The preferred method to use Pipelines-as-Code is configured with a GitHub Application.
In order to get started with Pipelines-as-Code, you need to</dd><dt><a href=/docs/install/installation/>Infrastructure install</a></dt><dd class=markdown-inner>Manual install # To install Pipelines as Code on your cluster you simply need to run this command :
VERSION=0.5.5 kubectl apply -f https://raw.githubusercontent.com/openshift-pipelines/pipelines-as-code/release-$VERSION/release-$VERSION.yaml If you would like to install the current development version you can simply install it like this :
kubectl apply -f https://raw.githubusercontent.com/openshift-pipelines/pipelines-as-code/nightly/release.yaml This will apply the release.yaml to your kubernetes cluster, creating the admin namespace pipelines-as-code, the roles and all other bits needed.
The pipelines-as-code namespace is where the Pipelines-as-Code infrastructure runs and is supposed to be accessible only by the admins.</dd><dt><a href=/docs/install/settings/>Settings</a></dt><dd class=markdown-inner>Pipelines-As-Code configuration settings # There is a few things you can configure via the configmap pipelines-as-code in the pipelines-as-code namespace.
application-name
The name of the application showing for example in the GitHub Checks labels. Default to "Pipelines as Code CI"
max-keep-days
The number of the day to keep the PipelineRuns runs in the pipelines-as-code namespace. We install by default a cronjob that cleans up the PipelineRuns generated on events in pipelines-as-code namespace.</dd><dt><a href=/docs/install/github_apps/>Github Apps</a></dt><dd class=markdown-inner>Create a Pipelines-as-Code GitHub App # The GitHub App install is different than other install methods since it acts as the integration point with OpenShift Pipelines and brings the Git workflow into Tekton pipelines. You only need one GitHub App for every users on the cluster usually setup by the admin.
You need the webhook of the GitHub App to point to your Pipelines-as-Code Controller route/ingress endpoint which would listen to GitHub events.</dd><dt><a href=/docs/install/github_webhook/>Github Webhook</a></dt><dd class=markdown-inner>Install Pipelines-as-Code as a GitHub Webhook # If you are not able to create a GitHub application you can install Pipelines-as-Code on your repository as a GitHub Webhook.
Using Pipelines as Code via Github webhook does not give you access to the GitHub CheckRun API, therefore the status of the tasks will be added as a Comment of the PR and not via the Checks Tab.
Following the infrastructure installation</dd><dt><a href=/docs/install/gitlab/>Gitlab</a></dt><dd class=markdown-inner>Install Pipelines-as-Code for Gitlab # Pipelines-As-Code supports Gitlab via a webhook.
Following the infrastructure installation:
You will have to generate a personal token as the manager of the Org or the Project, follow the steps here :
https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html
Note: You can create a token scoped only to the project. Since the token needs to be able to have api access to the forked repository from where the MR come from, it will fail to do it with a project scoped token.</dd><dt><a href=/docs/install/bitbucket_cloud/>Bitbucket Cloud</a></dt><dd class=markdown-inner>Install Pipelines-As-Code for Bitbucket Cloud # Pipelines-As-Code has a full support on Bitbucket Cloud on https://bitbucket.org as Webhook.
Following the infrastructure installation :
You will have to generate an app password for Pipelines-as-Code Bitbucket API operations. Follow this guide to create an app password : https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/
Add those permissions to the token :
image
Make sure you note somewhere the generated token or otherwise you will have to recreate it.</dd><dt><a href=/docs/install/bitbucket_server/>Bitbucket Server</a></dt><dd class=markdown-inner>Install Pipelines-As-Code on Bitbucket Server # Pipelines-As-Code has a full support of Bitbucket Server.
Following the infrastructure installation :
You will have to generate a personal token as the manager of the Project, follow the steps here : https://confluence.atlassian.com/bitbucketserver/personal-access-tokens-939515499.html
The token will need to have the PROJECT_ADMIN and REPOSITORY_ADMIN permissions.
Note that the token needs to be able to have access to the forked repository in pull requests or it would not be able to process and access the pull request.</dd><dt><a href=/docs/install/kubernetes/>Kubernetes</a></dt><dd class=markdown-inner>Kubernetes # Pipelines as Code should work directly on kubernetes/minikube/kind. You just need to install the release.yaml for pipeline , triggers and its interceptors on your cluster. The release yaml to install pipelines are for the released version :
VERSION=0.5.3 kubectl apply -f https://raw.githubusercontent.com/openshift-pipelines/pipelines-as-code/release-$VERSION/release-$VERSION.k8s.yaml and for the nightly :
kubectl apply -f https://raw.githubusercontent.com/openshift-pipelines/pipelines-as-code/release-$VERSION/release.k8s.yaml If you have Tekton Dashboard. You can just add the key tekton-dashboard-url in the pipelines-as-code configmap set to the full url of the Ingress host to get tekton dashboard logs url.</dd></dl></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/openshift-pipelines/pipelines-as-code/commit/72af6d20df646465713b6cedcdd8720bb28e2713 title="Last modified by Chmouel Boudjnah | March 29, 2022" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 29, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/openshift-pipelines/pipelines-as-code/edit/main/docs/content/docs/install/_index.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>